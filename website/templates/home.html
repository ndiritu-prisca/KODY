{% extends "base.html" %}
{% block title %}Home{% endblock %}

{% block content %}
<container class="home">
  <div class="hm_title" id="section">
    <div class="column" id="home_title">
      <h2>
        Discover <br> Your Next <br> Home
      </h2>
      <p>
        Find a variety of properties that best suit your needs in one place.
      </p>
      <form action="" class="home_search">
        <!-- <i class="bi bi-geo-alt-fill mr-2"></i>
        <input type="search" placeholder="Search by location..." class="home_search-input"> -->
        <button class="home_button"><a class="button" href="/properties">GET STARTED</a></button>
      </form>
    </div>
    <div class="column" id="images">
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-8 offset-lg-2">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img class="d-block w-100" id="responsive-image" src="../static/images/front.jpg" alt="First slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" id="responsive-image" src="../static/images/inside.jpg" alt="Second slide">
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" id="responsive-image" src="../static/images/kitusuru_in.jpg" alt="Third slide">
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <a class="carousel-control-prev custom-control" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next custom-control" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
  </div>
  <br>
  <div class="hm_tenants" id="section">
    <div class="column" id="left">
      <img id="search_img" src="../static/images/home_search.jpg" alt="Person searching"/>
      <p></p>
      <p class="p_left">Searching for the perfect rental home can be time-consuming and overwhelming.At KODY, we've created a seamless platform that connects you directly with trusted agents and their exceptional rental properties. Get ready to embark on a stress-free and efficient rental journey with us!</p>
    </div>
    <div class="column" id="right">
      <h3>Why Choose KODY?</h3>
      <ul class="tick-list" id="left">
        <li>Extensive Selection: Explore a wide range of rental properties, meticulously curated by experienced agents, ensuring you find the ideal home to suit your needs and preferences.</li>
        <li>Instant Access: Get instant access to detailed property listings, including high-quality images, comprehensive descriptions, pricing, and availability, enabling you to make informed decisions.</li>
        <li>Direct Communication: Connect directly with agents representing the properties you're interested in, allowing you to ask questions, schedule viewings, and receive timely responses.</li>
        <li>Secure and Reliable: Rest easy knowing that all agents and properties on KODY are verified and vetted, providing you with a trustworthy and safe rental experience.</li>
      </ul>
    </div>
  </div>
  <br>
  <div class="listings" id="section">
    <h3>Most Recent Listings</h3>
    <div class="recent_list">
      {% for property in properties %} {% set property_images =
        files[property.id].filenames %}
        <div class="container">
          <div
            id="carouselExampleIndicators"
            class="carousel slide"
            data-ride="carousel"
          >
            <ol class="carousel-indicators">
              {% for image in property_images %}
              <li
                data-target="#carouselExampleIndicators"
                data-slide-to="{{ loop.index0 }}"
                {%
                if
                loop.first
                %}class="active"
                {%
                endif
                %}
              ></li>
              {% endfor %}
            </ol>
            <div class="container-fluid">
              <div class="row">
                <div class="col-lg-8 offset-lg-2">
                  <div class="carousel-inner">
                    {% for image in property_images %}
                    <div class="carousel-item {% if loop.first %}active{% endif %}">
                      <img
                        class="d-block w-100"
                        id="responsive-image"
                        src="../static/uploads/{{ image }}"
                        alt="Image"
                        {{
                        loop.index
                        }}
                      />
                    </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>
      
            <!-- <a
              class="carousel-control-prev"
              href="#carouselExampleIndicators"
              role="button"
              data-slide="prev"
            >
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a
              class="carousel-control-next"
              href="#carouselExampleIndicators"
              role="button"
              data-slide="next"
            >
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a> -->
          </div>
          <div class="property-details">
            <div>
              <p>Agency Name: {{ files[property.id].agency_name }}</p>
              <p>Contact: 0{{ files[property.id].contact }}</p>
              <b>
                {{ property.bd }} Bedroom(s) at {{ property.name }} in {{
                property.location }}
                <p>Ksh.{{ property.price }}</p>
              </b>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  <form action="" class="home_search">
    <button class="home_button"><a class="button" href="/properties">VIEW MORE PROPERTIES</a></button>
  </form>
  <h2 id="section">Are You an Agent?</h2>
  <div class="hm_agents" id="section">
    <div class="column" id="left">
      <h4>Unlock the Power of KODY: Amplify Your Reach, Maximize Your Success</h4>
      <p>Are you an agent searching for the perfect platform to showcase your rental properties? Look no further! KODY is here to revolutionize your renting experience. Our user-friendly interface and extensive network provides agents like you with the ultimate platform to register and showcase your available rental houses.</p>
    </div>
    <div class="column" id="right">
      <h3 id="join">Why Join KODY?</h3>
      <ul class="tick-list">
        <li>Expansive Exposure: Gain maximum visibility for your properties through our vast network of prospective tenants actively seeking rentals.</li>
        <li>Seamless Registration: Our hassle-free registration process allows you to quickly create a professional profile and start adding your properties within minutes.</li>
        <li>Dynamic Property Management: Effortlessly manage and update your listings, pricing, and availability, ensuring accurate and up-to-date information for potential tenants.</li>
      </ul>
    </div>
  </div>  
  <br>
  <h4 id="section">Join KODY today and revolutionize your rental business!</h4>
  <button class="home_button"><a class="button" href="/sign-up">CLICK HERE TO JOIN</a></button>  
</container>

{% endblock %}